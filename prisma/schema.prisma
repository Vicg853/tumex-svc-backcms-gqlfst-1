datasource db {
  provider = "mongodb"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

generator typegraphql {
  provider = "typegraphql-prisma"
  output   = "./generated/type-graphql"
}

//* Objectives models, types, etc

enum ObjectiveProgress {
   TODO       @map("to-do")
   INPROGRESS @map("in-progress")
   DONE       @map("done")
}

model Objectives {
  id                   String @id @default(uuid()) @map("_id")
  createdAt            DateTime @default(now())
  objectiveProgress    ObjectiveProgress @map("objective_progress") @default(TODO)
  objectiveSource      String? @map("objective_source") 
  objectiveName        Json? @map("objective_name_sources")        
  objectiveDescription Json @map("objective_description_sources")

  @@map("objectives")
}

//* Projects models, types, etc
type TechStack {
  techName             String 
  techLink             String?
}

type ProjectTextLocales {
  en String
  pt String?
  fr String?
}

enum SourceTypes {
  GITHUB
  WEBSITE
  MOREINFO
  RELATED
  CUSTOM
}

type ProjectSource {
  sourceLink String
  sourceType SourceTypes
  sourceIcon String?
  sourceText String?
}

enum ProjectScopes {
  PERSONAL
  PROFESSIONAL
  OPENSOURCE
  NONPROFIT
}

model Project {
  id                   String @id @default(uuid()) @map("_id")
  addedAt              DateTime @default(now())
  
  image                String
  projectName          ProjectTextLocales
  projectDescription   ProjectTextLocales
  
  projectScope         ProjectScopes?
  techStack            TechStack[]

  projectStartDate     DateTime
  projectEndDate       DateTime?

  sources              ProjectSource[]
}